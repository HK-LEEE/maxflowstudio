# 워크스페이스 권한 부여 기능 사용 가이드

## 개요

FlowStudio의 워크스페이스 생성 기능이 개선되어 생성과 동시에 사용자 및 그룹에게 권한을 부여할 수 있습니다.

## 새로운 기능

### 1. Personal Workspace 생성
- **사용자 협업**: 워크스페이스 생성 시 다른 사용자들을 초대할 수 있습니다
- **검색 기능**: 사용자 이름, 이메일로 검색 가능
- **권한 설정**: 각 사용자에게 Viewer, Member, Admin 권한 부여 가능
- **최대 20명**의 사용자까지 선택 가능

### 2. Team Workspace 생성
- **그룹 선택**: 여러 그룹을 선택하여 워크스페이스에 액세스 권한 부여
- **추가 사용자**: 그룹 외 개별 사용자도 추가 가능
- **시스템 그룹**: 시스템 그룹도 선택 가능
- **최대 10개 그룹**, **최대 50명 사용자** 선택 가능

## 사용 방법

### Personal Workspace 생성하기

1. **워크스페이스 페이지에서 "Create Workspace" 클릭**
2. **기본 정보 입력**:
   - 워크스페이스 이름
   - 설명 (선택사항)
   - 타입: "Personal Workspace" 선택

3. **사용자 협업 설정**:
   - "Collaborate with Users" 섹션에서 사용자 검색
   - 이름이나 이메일로 검색 가능
   - 원하는 사용자 선택
   - 각 사용자의 권한 레벨 설정:
     - **Viewer**: 읽기 전용
     - **Member**: 읽기/쓰기 가능
     - **Admin**: 관리 권한

4. **생성 완료**: "Create Workspace" 버튼 클릭

### Team Workspace 생성하기

1. **워크스페이스 페이지에서 "Create Workspace" 클릭**
2. **기본 정보 입력**:
   - 워크스페이스 이름
   - 설명 (선택사항)
   - 타입: "Team Workspace" 선택

3. **그룹 권한 설정**:
   - "Primary Groups" 섹션에서 그룹 검색 및 선택
   - 그룹명으로 검색 가능
   - 각 그룹의 권한 레벨 설정
   - 그룹 멤버 수 확인 가능

4. **추가 사용자 설정** (선택사항):
   - "Additional Users" 섹션에서 개별 사용자 추가
   - 그룹에 속하지 않은 사용자에게 개별 권한 부여

5. **생성 완료**: "Create Workspace" 버튼 클릭

## 권한 레벨

### Viewer
- 워크스페이스와 플로우 조회만 가능
- 실행 결과 확인 가능
- 편집 권한 없음

### Member
- 플로우 생성, 편집, 삭제 가능
- 플로우 실행 가능
- 워크스페이스 설정 변경 불가

### Admin
- 모든 Member 권한 포함
- 워크스페이스 설정 변경 가능
- 다른 사용자 권한 관리 가능
- 워크스페이스 삭제 가능

## 검색 기능

### 사용자 검색
- **이름**: 사용자의 전체 이름으로 검색
- **이메일**: 이메일 주소로 검색
- **부분 일치**: 입력한 텍스트가 포함된 모든 사용자 표시
- **활성 사용자만**: 비활성 사용자는 검색 결과에서 제외

### 그룹 검색
- **그룹명**: 그룹 이름으로 검색
- **설명**: 그룹 설명으로도 검색 가능
- **시스템 그룹**: 시스템에서 관리하는 그룹도 포함
- **멤버 수**: 각 그룹의 멤버 수 확인 가능

## 제한사항

### Personal Workspace
- 최대 20명의 사용자 선택 가능
- 중복 선택 불가
- 본인(생성자)은 자동으로 Owner 권한

### Team Workspace
- 최대 10개의 그룹 선택 가능
- 최대 50명의 추가 사용자 선택 가능
- 그룹과 개별 사용자 중복 선택 시 개별 권한이 우선

## 에러 해결

### "You do not have permission..."
- 관리자 권한이 필요한 작업입니다
- 시스템 관리자에게 문의하세요

### "One or more selected users could not be found"
- 선택한 사용자가 삭제되었거나 비활성화됨
- 사용자 목록을 새로고침하고 다시 선택하세요

### "Workspace creation limit reached"
- 생성 가능한 워크스페이스 수를 초과함
- 기존 워크스페이스를 삭제하거나 관리자에게 문의하세요

### 검색이 안 될 때
- 인터넷 연결 확인
- 페이지 새로고침
- 관리자 권한 확인

## 팁

1. **미리 계획하기**: 워크스페이스에 필요한 사용자와 그룹을 미리 정리하세요
2. **권한 최소화**: 필요한 최소 권한만 부여하는 것이 보안상 좋습니다
3. **그룹 활용**: 많은 사용자가 필요한 경우 그룹을 만들어 관리하세요
4. **정기 검토**: 주기적으로 워크스페이스 권한을 검토하고 정리하세요

## 기술적 세부사항

### API 엔드포인트
- 사용자 검색: `GET /api/admin/users?search={query}`
- 그룹 검색: `GET /api/admin/groups?search={query}`
- 워크스페이스 생성: `POST /api/workspaces`

### 요청 형식
```json
{
  "name": "워크스페이스 이름",
  "description": "설명",
  "type": "personal" | "team",
  "user_permissions": [
    {
      "user_id": "사용자ID",
      "permission": "viewer" | "member" | "admin"
    }
  ],
  "group_permissions": [
    {
      "group_id": "그룹ID", 
      "permission": "viewer" | "member" | "admin"
    }
  ]
}
```

---

이 가이드는 FlowStudio v2.0의 새로운 워크스페이스 권한 부여 기능을 설명합니다. 추가 질문이나 문제가 있으면 개발팀에 문의하세요.